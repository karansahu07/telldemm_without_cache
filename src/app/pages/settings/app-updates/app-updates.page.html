<ion-header>
  <ion-toolbar class="ion_toolbar">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/settings" [attr.aria-label]="'common.back' | translate"></ion-back-button>
    </ion-buttons>
    <ion-title class="ion_title">{{ 'appUpdates.title' | translate }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding" style="--background: #ffffff;">
  <ion-list lines="inset">
    <!-- Installed -->
    <ion-item>
      <ion-icon slot="start" name="information-circle-outline" aria-hidden="true" class="setting_icons"></ion-icon>
      <ion-label><h2>{{ 'appUpdates.version' | translate }}</h2></ion-label>
      <ion-note slot="end" class="version">{{ version }}</ion-note>
    </ion-item>

    <!-- Latest (only if known) -->
    <ion-item *ngIf="latestVersion">
      <ion-icon slot="start" name="sparkles-outline" aria-hidden="true" class="setting_icons"></ion-icon>
      <ion-label><h2>{{ 'appUpdates.latestAvailable' | translate }}</h2></ion-label>
      <ion-note slot="end">{{ latestVersion }}</ion-note>
    </ion-item>

    <!-- Status chip -->
    <ion-item>
      <ion-label>
        <h2>{{ 'appUpdates.status' | translate }}</h2>
        <p *ngIf="updateAvailable">{{ 'appUpdates.statusMessages.updateAvailable' | translate }}</p>
        <p *ngIf="!updateAvailable">{{ 'appUpdates.statusMessages.upToDate' | translate }}</p>
      </ion-label>
      <ion-chip slot="end" *ngIf="updateAvailable" color="warning">
        {{ 'appUpdates.badge.updateAvailable' | translate }}
      </ion-chip>
      <ion-chip slot="end" *ngIf="!updateAvailable" color="success">
        {{ 'appUpdates.badge.upToDate' | translate }}
      </ion-chip>
    </ion-item>

    <!-- Manual check -->
    <ion-item button detail (click)="checkForUpdates()" [attr.aria-label]="'appUpdates.checkForUpdates.title' | translate">
      <ion-icon slot="start" name="download-outline" aria-hidden="true" class="setting_icons"></ion-icon>
      <ion-label>
        <h2>{{ 'appUpdates.checkForUpdates.title' | translate }}</h2>
        <p>{{ 'appUpdates.checkForUpdates.description' | translate }}</p>
      </ion-label>
    </ion-item>
  </ion-list>
</ion-content>